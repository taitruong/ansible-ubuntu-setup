---
- hosts: localhost

  tasks:
  - name: apt update
    become: yes
    become_method: sudo
    apt: 
      update_cache: yes
    register: result
  - debug: var=result

  - name: install curl
    become: yes
    become_method: sudo
    apt:
      name: curl
    register: result
  - debug:
      var: result

  - name: install git
    become: yes
    become_method: sudo
    apt: 
      name: git
      state: present
    register: result
  - debug: var=result

  - name: git user.email
    shell: git config --global user.email maitai.truong@gmail.com
    register: result
  - debug:
      var: result

  - name: git user.name
    shell: git config --global user.name "Tai Truong"
    register: result
  - debug:
      var: result

  - name: sudo deb http://repo.vivaldi.com/stable/deb/ stable main > /etc/apt/sources.list.d/vivaldi.list
    shell: echo "echo deb http://repo.vivaldi.com/stable/deb/ stable main > /etc/apt/sources.list.d/vivaldi.list" | sudo sh; ls /etc/apt/sources.list.d/
    register: result
  - debug:
      var: result

  - name: curl http://repo.vivaldi.com/stable/linux_signing_key.pub | sudo apt-key add -
    shell: curl http://repo.vivaldi.com/stable/linux_signing_key.pub | sudo apt-key add -
    register: result
  - debug:
      var: result

  - name: apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 1397BC53640DB551
    become: yes
    become_method: sudo
    shell: apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 1397BC53640DB551
    register: result
  - debug:
      var: result

  - name: apt update
    become: yes
    become_method: sudo
    apt:
      update_cache: yes
    register: result
  - debug: var=result

  - name: sudo apt-get install vivaldi-stable
    become: yes
    become_method: sudo
    apt:
      name: vivaldi-stable
    register: result
  - debug:
      var: result

  - name: install default jdk (openjdk)
    become: yes
    become_method: sudo
    apt:
      name: default-jdk
    register: resutt
  - debug:
      var: result

  - name: java version
    shell: java --version
    register: result
  - debug:
      var: result

  - name: add idea repository
    become: yes
    apt_repository: repo="ppa:mmk2410/intellij-idea"
    register: result
  - debug:
      var: result

  - name: install idea ultimate
    become: yes
    become_method: sudo
    apt:
      name: intellij-idea-ultimate
    register: result
  - debug:
      var: result

  - name: install virtual box
    become: yes
    become_method: sudo
    apt:
      name: virtualbox
    register: result
  - debug:
      var: result

  - name: install vagrant
    become: yes
    become_method: sudo
    apt:
      name: vagrant
    register: result
  - debug:
      var: result


  - name: apt-key adv --keyserver keyserver.ubuntu.com --recv 68576280
    become: yes
    become_method: sudo
    shell: apt-key adv --keyserver keyserver.ubuntu.com --recv 68576280
    register: result
  - debug:
      var: result

  - name: curl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash -
    become: yes
    become_method: sudo
    shell: curl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash -
    register: result
  - debug:
      var: result

  - name: apt update
    become: yes
    become_method: sudo
    apt:
      update_cache: yes
    register: result
  - debug: var=result

  - name: install nodejs
    become: yes
    become_method: sudo
    apt:
      name: nodejs
    register: result
  - debug:
      var: result

  - name: npm install -g grunt-cli
    become: yes
    become_method: sudo
    shell: npm install -g grunt-cli
    register: result
  - debug:
      var: result


  - name: add gradle repository
    become: yes
    apt_repository: repo="ppa:cwchien/gradle"
    register: result
  - debug:
      var: result

  - name: apt update
    become: yes
    become_method: sudo
    apt:
      update_cache: yes
    register: result
  - debug: var=result

  - name: install gradle
    become: yes
    become_method: sudo
    apt:
      name: gradle
    register: result
  - debug:
      var: result

  - name: echo "grldS3BucketName=grld-dev-tai-truong" > ~/.gradle/gradle.properties
    shell: echo "grldS3BucketName=grld-dev-tai-truong" > ~/.gradle/gradle.properties
    register: result
  - debug:
      var: result

  - name: echo "artifactoryUsername=tai-truong" >> ~/.gradle/gradle.properties
    shell: echo "artifactoryUsername=tai-truong" >> ~/.gradle/gradle.properties
    register: result
  - debug:
      var: result

  - name: echo "artifactoryPassword=test" >> ~/.gradle/gradle.properties
    shell: echo "artifactoryPassword=test" >> ~/.gradle/gradle.properties
    register: result
  - debug:
      var: result

  - name: less ~/.gradle/gradle.properties
    shell: less ~/.gradle/gradle.properties
    register: result
  - debug:
      var: result

  - name: install pinta
    become: yes
    become_method: sudo
    apt:
      name: pinta
    register: result
  - debug:
      var: result

  - name: apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 0DF731E45CE24F27EEEB1450EFDC8610341D9410 931FF8E79F0876134EDDBDCCA87FF9DF48BF1C90
    become: yes
    become_method: sudo
    shell: apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 0DF731E45CE24F27EEEB1450EFDC8610341D9410 931FF8E79F0876134EDDBDCCA87FF9DF48BF1C90
    register: result
  - debug:
      var: result

  - name: echo deb http://repository.spotify.com stable non-free | sudo tee /etc/apt/sources.list.d/spotify.list
    shell: echo deb http://repository.spotify.com stable non-free | sudo tee /etc/apt/sources.list.d/spotify.list
    register: result
  - debug:
      var: result

  - name: apt update
    become: yes
    become_method: sudo
    apt:
      update_cache: yes
    register: result
  - debug: var=result

  - name: sudo apt-get install spotify-client
    become: yes
    become_method: sudo
    apt:
      name: spotify-client
    register: result
  - debug:
      var: result
